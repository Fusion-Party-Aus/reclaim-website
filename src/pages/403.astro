---
import BaseLayout from '../layouts/BaseLayout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import { Icon } from 'astro-icon/components'
import '../styles/global.css'

const forbiddenMessages = [
  "Access Denied (but democracy shouldn't be)",
  'This area is exclusive... unlike our party!',
  'Members only zone (consider joining?)',
  'You shall not pass! ...without proper authorization',
  'Forbidden. Like corruption should be.',
  'Sorry, this page is VIP only (Very Important Politics)',
]

const randomMessage = forbiddenMessages[Math.floor(Math.random() * forbiddenMessages.length)]
---

<BaseLayout
  title="403 - Access Denied | Fusion Victoria"
  description="You don't have permission to access this page."
>
  <Header />

  <main
    class="min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-red-800 relative overflow-hidden pt-28 pb-20"
  >
    <!-- Warning signs floating -->
    <div class="absolute inset-0 opacity-15">
      {
        [...Array(6)].map((_, i) => (
          <div
            class="absolute text-8xl"
            style={`
            top: ${Math.random() * 80 + 10}%;
            left: ${Math.random() * 90}%;
            animation: float ${5 + i}s ease-in-out infinite ${i * 0.5}s, spin ${20 + i * 4}s linear infinite;
          `}
          >
            {['üö´', '‚õî', 'üîí', '‚ö†Ô∏è', 'üõ°Ô∏è', 'üîê'][i]}
          </div>
        ))
      }
    </div>

    <div class="max-w-6xl mx-auto px-4 relative z-10">
      <!-- Giant 403 with Lock -->
      <div class="text-center mb-12">
        <div class="relative inline-block mb-8">
          <div class="absolute inset-0 bg-red-500 blur-3xl opacity-60 animate-pulse"></div>
          <div
            class="relative w-48 h-48 mx-auto bg-black border-8 border-red-500 rounded-full flex items-center justify-center"
            style="box-shadow: 0 0 0 8px #000, 0 0 0 16px #fbbf24, 0 0 60px #dc2626; animation: pulse 2s ease-in-out infinite;"
          >
            <Icon
              name="mdi:lock"
              class="w-32 h-32 text-red-500"
              style="animation: wiggle 3s ease-in-out infinite;"
            />
          </div>
        </div>

        <h1
          class="text-[10rem] md:text-[16rem] font-black leading-none mb-0 text-white"
          style="
            font-family: 'Anton', 'Archivo Black', sans-serif;
            text-shadow: 8px 8px 0px rgba(220, 38, 38, 0.8), 16px 16px 0px rgba(0, 0, 0, 0.5);
          "
        >
          403
        </h1>

        <h2
          class="text-4xl md:text-6xl font-black uppercase text-yellow-400 mb-6"
          style="font-family: 'Archivo Black', sans-serif; text-shadow: 4px 4px 0px rgba(0,0,0,0.5);"
        >
          ACCESS DENIED
        </h2>

        <p class="text-2xl font-bold text-white" style="font-family: 'Space Grotesk', sans-serif;">
          {randomMessage}
        </p>
      </div>

      <!-- Warning Card -->
      <div class="max-w-3xl mx-auto mb-12">
        <div
          class="bg-yellow-400 border-8 border-black p-8 md:p-12 relative"
          style="box-shadow: 12px 12px 0px 0px #dc2626, 24px 24px 0px 0px #000;"
        >
          <!-- Warning strips -->
          <div class="absolute top-0 left-0 right-0 h-12 bg-black overflow-hidden">
            <div class="absolute inset-0 flex" style="animation: scroll 3s linear infinite;">
              {
                [...Array(20)].map(() => (
                  <div class="flex-shrink-0 w-20 h-12 border-r-8 border-yellow-400 bg-black" />
                ))
              }
            </div>
          </div>

          <div class="mt-8 flex items-start gap-6">
            <div
              class="w-24 h-24 bg-black border-6 border-red-600 flex items-center justify-center flex-shrink-0 rotate-12"
              style="animation: bounce 2s ease-in-out infinite;"
            >
              <Icon name="mdi:shield-lock" class="w-16 h-16 text-yellow-400" />
            </div>
            <div>
              <h3
                class="text-3xl font-black uppercase mb-4"
                style="font-family: 'Archivo Black', sans-serif;"
              >
                Restricted Area
              </h3>
              <p class="text-lg font-bold text-black leading-relaxed mb-4">
                This page is protected and requires special permissions to access.
              </p>
              <div class="bg-black border-4 border-red-600 p-4">
                <p class="text-white font-bold text-sm">
                  <Icon name="mdi:information" class="w-5 h-5 inline mr-2 text-yellow-400" />
                  If you believe you should have access, please contact us or sign in.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Why Join / Action Cards -->
      <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-12">
        <div
          class="bg-black border-6 border-yellow-400 p-8"
          style="box-shadow: 8px 8px 0px 0px #dc2626;"
        >
          <div class="flex items-center gap-4 mb-6">
            <div
              class="w-16 h-16 bg-yellow-400 border-5 border-white flex items-center justify-center rotate-12"
            >
              <Icon name="mdi:account-key" class="w-10 h-10 text-black" />
            </div>
            <h3
              class="text-2xl font-black uppercase text-yellow-400"
              style="font-family: 'Archivo Black', sans-serif;"
            >
              Need Access?
            </h3>
          </div>
          <p class="text-white font-bold mb-6">
            Some content is reserved for Fusion Party members. Join us to unlock exclusive
            resources!
          </p>
          <a
            href="/get-involved"
            class="block w-full px-6 py-4 bg-yellow-400 text-black border-4 border-white font-black uppercase text-center hover:bg-white transition-all"
            style="box-shadow: 4px 4px 0px 0px #fff;"
          >
            <Icon name="mdi:account-plus" class="w-5 h-5 inline mr-2" />
            Join Fusion
          </a>
        </div>

        <div
          class="bg-white border-6 border-black p-8"
          style="box-shadow: 8px 8px 0px 0px #fbbf24;"
        >
          <div class="flex items-center gap-4 mb-6">
            <div
              class="w-16 h-16 bg-red-600 border-5 border-black flex items-center justify-center -rotate-12"
            >
              <Icon name="mdi:login" class="w-10 h-10 text-white" />
            </div>
            <h3
              class="text-2xl font-black uppercase text-black"
              style="font-family: 'Archivo Black', sans-serif;"
            >
              Already a Member?
            </h3>
          </div>
          <p class="text-black font-bold mb-6">
            Sign in to access member-exclusive content and resources.
          </p>
          <a
            href="/login"
            class="block w-full px-6 py-4 bg-black text-white border-4 border-black font-black uppercase text-center hover:bg-red-600 transition-all"
            style="box-shadow: 4px 4px 0px 0px #000;"
          >
            <Icon name="mdi:lock-open" class="w-5 h-5 inline mr-2" />
            Sign In
          </a>
        </div>
      </div>

      <!-- What You're Missing -->
      <div class="max-w-4xl mx-auto mb-12">
        <h3
          class="text-3xl font-black uppercase text-center text-white mb-8"
          style="font-family: 'Archivo Black', sans-serif; text-shadow: 3px 3px 0px rgba(0,0,0,0.5);"
        >
          Member Benefits:
        </h3>
        <div class="grid md:grid-cols-3 gap-4">
          <div
            class="bg-white border-5 border-black p-6 text-center transform hover:scale-105 transition-transform"
            style="box-shadow: 5px 5px 0px 0px #000;"
          >
            <Icon name="mdi:file-document-multiple" class="w-12 h-12 mx-auto mb-3 text-red-600" />
            <h4 class="font-black uppercase text-sm mb-2">Exclusive Content</h4>
            <p class="text-xs font-bold text-gray-600">Policy drafts & research</p>
          </div>
          <div
            class="bg-white border-5 border-black p-6 text-center transform hover:scale-105 transition-transform"
            style="box-shadow: 5px 5px 0px 0px #000;"
          >
            <Icon name="mdi:calendar-star" class="w-12 h-12 mx-auto mb-3 text-yellow-600" />
            <h4 class="font-black uppercase text-sm mb-2">Events</h4>
            <p class="text-xs font-bold text-gray-600">Early access to events</p>
          </div>
          <div
            class="bg-white border-5 border-black p-6 text-center transform hover:scale-105 transition-transform"
            style="box-shadow: 5px 5px 0px 0px #000;"
          >
            <Icon name="mdi:vote" class="w-12 h-12 mx-auto mb-3 text-black" />
            <h4 class="font-black uppercase text-sm mb-2">Voting Rights</h4>
            <p class="text-xs font-bold text-gray-600">Shape party policy</p>
          </div>
        </div>
      </div>

      <!-- Go Back -->
      <div class="text-center">
        <div
          class="inline-block bg-black border-6 border-yellow-400 p-6 transform rotate-1"
          style="box-shadow: 8px 8px 0px 0px #dc2626;"
        >
          <p class="text-white font-bold mb-4">Or just head back to public content:</p>
          <div class="flex flex-wrap gap-3 justify-center">
            <a
              href="/"
              class="px-6 py-3 bg-yellow-400 text-black border-4 border-black font-black uppercase hover:bg-white transition-all"
            >
              <Icon name="mdi:home" class="w-5 h-5 inline mr-2" />
              Home
            </a>
            <a
              href="/policies"
              class="px-6 py-3 bg-white text-black border-4 border-black font-black uppercase hover:bg-yellow-400 transition-all"
            >
              <Icon name="mdi:file-document" class="w-5 h-5 inline mr-2" />
              Policies
            </a>
            <button
              onclick="window.history.back()"
              class="px-6 py-3 bg-red-600 text-white border-4 border-black font-black uppercase hover:bg-red-700 transition-all"
            >
              <Icon name="mdi:arrow-left" class="w-5 h-5 inline mr-2" />
              Go Back
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</BaseLayout>

<style>
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes bounce {
    0%,
    100% {
      transform: rotate(12deg) translateY(0);
    }
    50% {
      transform: rotate(12deg) translateY(-15px);
    }
  }

  @keyframes wiggle {
    0%,
    100% {
      transform: rotate(-5deg);
    }
    50% {
      transform: rotate(5deg);
    }
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes pulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-160px);
    }
  }
</style>
